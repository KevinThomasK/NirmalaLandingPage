"use client";
import React, { useState, useEffect } from "react";

const Stickymodal = () => {
  const [isVisible, setIsVisible] = useState(false);

  // Function to handle scroll event
  const handleScroll = () => {
    const scrollPosition = window.scrollY;
    if (scrollPosition > 200) {
      // Adjust this value to control when the modal appears
      setIsVisible(true);
    } else {
      setIsVisible(false);
    }
  };

  useEffect(() => {
    // Add scroll event listener
    window.addEventListener("scroll", handleScroll);

    // Cleanup the event listener on component unmount
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    isVisible && (
      <div className="fixedcta d-flex align-content-center justify-content-between">
        <h5 className="mob-dis-none">Get A Free Consultation Now</h5>

        <a
          className="btn_black d-flex align-items-center justify-content-center"
          href="tel:+918301921909"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 20 20"
            fill="none"
          >
            <path
              d="M15.2137 17.3441C13.66 17.1784 12.161 16.6762 10.7168 15.8374C9.2726 14.9985 7.99529 13.8912 6.8849 12.5152C5.77445 11.1397 4.96147 9.65769 4.44597 8.06909C3.93047 6.4805 3.75529 4.90932 3.92043 3.35557C3.94428 3.13184 4.03873 2.95335 4.20379 2.82009C4.36884 2.68684 4.56324 2.63214 4.78697 2.65599L7.80735 2.97799C7.98137 2.99654 8.13043 3.07227 8.25454 3.20517C8.37865 3.33808 8.44455 3.4864 8.45224 3.65014L8.65872 6.31202C8.66238 6.51355 8.63827 6.68068 8.58641 6.81343C8.53455 6.94618 8.45359 7.05698 8.34356 7.14581L6.34027 8.78016C6.53983 9.26655 6.78755 9.74224 7.08343 10.2072C7.3793 10.6722 7.71135 11.1257 8.07956 11.5677C8.4238 11.9941 8.78966 12.3947 9.17712 12.7694C9.56458 13.144 9.97993 13.493 10.4232 13.8163L12.3626 12.2506C12.4863 12.1507 12.6415 12.0825 12.8279 12.046C13.0143 12.0096 13.1929 12.0128 13.3639 12.0557L15.8811 12.852C16.0498 12.9203 16.1832 13.0257 16.2811 13.1684C16.379 13.3111 16.4194 13.463 16.4022 13.6241L16.0802 16.6445C16.0564 16.8682 15.9619 17.0467 15.7969 17.18C15.6318 17.3132 15.4374 17.3679 15.2137 17.3441ZM5.78284 7.28766L7.14455 6.18831L7.01444 4.40195L5.35509 4.22506C5.36291 4.74129 5.39625 5.25397 5.45511 5.76308C5.51397 6.27218 5.62322 6.78038 5.78284 7.28766ZM11.7459 14.6739C12.2082 14.9369 12.6845 15.1574 13.1749 15.3354C13.6653 15.5133 14.163 15.6481 14.6682 15.7397L14.8431 14.099L13.1283 13.5579L11.7459 14.6739Z"
              fill="#fff"
            ></path>
          </svg>
          Call Now
        </a>
        <a
          className="btn d-flex align-items-center justify-content-center"
          target="_blank"
          href="https://wa.me/++918301921909"
        >
          <svg
            width="18"
            height="18"
            viewBox="0 0 12 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M0.555908 5.99986C0.555908 3.0044 3.00489 0.55542 6.00035 0.55542C8.99581 0.55542 11.4448 3.0044 11.4448 5.99986C11.4448 8.99532 8.99581 11.4443 6.00035 11.4443C5.0877 11.4443 4.17544 11.2087 3.39203 10.7788L1.87045 11.2135C1.20906 11.4025 0.592875 10.8009 0.765962 10.1351L1.17745 8.5525C0.795094 7.78576 0.555908 6.91995 0.555908 5.99986ZM6.00035 1.44431C3.49581 1.44431 1.4448 3.49532 1.4448 5.99986C1.4448 6.81661 1.67164 7.59533 2.04251 8.29071C2.09501 8.38915 2.10857 8.50373 2.0805 8.6117L1.62625 10.3588L3.32825 9.87252C3.44654 9.83873 3.57353 9.85547 3.67902 9.91876C4.35915 10.3268 5.17998 10.5554 6.00035 10.5554C8.50489 10.5554 10.5559 8.50441 10.5559 5.99986C10.5559 3.49532 8.50489 1.44431 6.00035 1.44431Z"
              fill="white"
            ></path>
            <path
              d="M8.25024 7.42425C8.25024 7.50525 8.23222 7.5885 8.19391 7.6695C8.1556 7.7505 8.10603 7.827 8.04068 7.899C7.93026 8.0205 7.80858 8.10825 7.67113 8.1645C7.53592 8.22075 7.38945 8.25 7.23172 8.25C7.00187 8.25 6.75625 8.196 6.49711 8.08575C6.23798 7.9755 5.97884 7.827 5.72195 7.64025C5.46281 7.45125 5.21719 7.242 4.98284 7.01025C4.75075 6.77625 4.54118 6.531 4.35415 6.2745C4.16937 6.018 4.02065 5.7615 3.91249 5.50725C3.80433 5.25075 3.75024 5.0055 3.75024 4.7715C3.75024 4.6185 3.77728 4.47225 3.83137 4.33725C3.88545 4.2 3.97108 4.074 4.0905 3.9615C4.23472 3.81975 4.39246 3.75 4.55921 3.75C4.6223 3.75 4.6854 3.7635 4.74173 3.7905C4.80032 3.8175 4.85215 3.858 4.89271 3.9165L5.41549 4.65225C5.45605 4.7085 5.48535 4.76025 5.50563 4.80975C5.52591 4.857 5.53717 4.90425 5.53717 4.947C5.53717 5.001 5.5214 5.055 5.48985 5.10675C5.46056 5.1585 5.41775 5.2125 5.36366 5.2665L5.19241 5.44425C5.16762 5.469 5.15635 5.49825 5.15635 5.53425C5.15635 5.55225 5.15861 5.568 5.16311 5.586C5.16987 5.604 5.17663 5.6175 5.18114 5.631C5.2217 5.70525 5.29156 5.802 5.3907 5.919C5.49211 6.036 5.60027 6.15525 5.71745 6.2745C5.83913 6.39375 5.9563 6.504 6.07573 6.60525C6.19291 6.70425 6.2898 6.77175 6.36642 6.81225C6.37769 6.81675 6.39121 6.8235 6.40698 6.83025C6.42501 6.837 6.44303 6.83925 6.46331 6.83925C6.50162 6.83925 6.53092 6.82575 6.5557 6.801L6.72696 6.63225C6.78329 6.576 6.83738 6.53325 6.8892 6.50625C6.94103 6.47475 6.99286 6.459 7.04919 6.459C7.09201 6.459 7.13707 6.468 7.18665 6.48825C7.23622 6.5085 7.28805 6.53775 7.34439 6.576L8.09025 7.10475C8.14884 7.14525 8.1894 7.1925 8.21419 7.24875C8.23672 7.305 8.25024 7.36125 8.25024 7.42425Z"
              fill="white"
            ></path>
          </svg>
          Get Callback Today
        </a>
      </div>
    )
  );
};

export default Stickymodal;
